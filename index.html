<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Yuny — BI Online (Março 2025 a Janeiro 2026)</title>

<script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>

<style>
:root { --gold:#D4AF37; --text:#111; --muted:#666; }

body{
  font-family: Inter, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  margin:24px;
  background:#fff;
  color:var(--text);
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}

h1{ font-size:20px; margin:0; }

.pill{
  background:rgba(212,175,55,0.1);
  border:1px solid rgba(212,175,55,0.3);
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  color:var(--gold);
}

.kpis{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
  margin-bottom:24px;
}

.kpi{
  border:1px solid #eee;
  border-radius:12px;
  padding:14px;
}

.kpi .label{
  font-size:12px;
  color:#777;
}

.kpi .value{
  font-size:18px;
  font-weight:700;
}

.grid{
  display:grid;
  grid-template-columns:1.2fr 1fr;
  gap:24px;
}

.card{
  border:1px solid #eee;
  border-radius:12px;
  padding:16px;
}

h2{
  font-size:16px;
  margin-bottom:10px;
}

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  padding:10px;
  border-bottom:1px solid #eee;
}

th{
  text-align:left;
  font-size:12px;
  color:#555;
}

tfoot td{
  font-weight:bold;
}

.select-row{
  margin-bottom:10px;
}

footer{
  margin-top:30px;
  font-size:12px;
  color:#777;
  display:flex;
  justify-content:space-between;
}
</style>
</head>

<body>

<header>
  <h1>Performance Online — Yuny (Março/2025 a Janeiro/2026)</h1>
  <span class="pill">BI Interativo</span>
</header>

<section class="kpis">
  <div class="kpi">
    <div class="label">VGV acumulado</div>
    <div class="value" id="vgvTotal"></div>
  </div>

  <div class="kpi">
    <div class="label">Investimento (mídia + estrutura)</div>
    <div class="value" id="invest"></div>
  </div>

  <div class="kpi">
    <div class="label">ROI total</div>
    <div class="value" id="roi"></div>
  </div>

  <div class="kpi">
    <div class="label">Pico mensal</div>
    <div class="value" id="pico"></div>
  </div>
</section>

<div class="grid">

<div class="card">
<h2>Evolução Mensal do VGV</h2>
<div id="line"></div>
</div>

<div class="card">
<h2>Resultados por Mês</h2>
<table>
<thead>
<tr><th>Mês</th><th style="text-align:right">VGV</th></tr>
</thead>
<tbody>
<tr><td>Março</td><td class="val" data-num="961968"></td></tr>
<tr><td>Abril</td><td class="val" data-num="1294520"></td></tr>
<tr><td>Maio</td><td class="val" data-num="1495000"></td></tr>
<tr><td>Junho</td><td class="val" data-num="22837000"></td></tr>
<tr><td>Julho</td><td class="val" data-num="1643312"></td></tr>
<tr><td>Agosto</td><td class="val" data-num="14250000"></td></tr>
<tr><td>Setembro</td><td class="val" data-num="15319600"></td></tr>
<tr><td>Outubro</td><td class="val" data-num="33369600"></td></tr>
<tr><td>Novembro</td><td class="val" data-num="3204500"></td></tr>
<tr><td>Dezembro</td><td class="val" data-num="4300000"></td></tr>
<tr><td>Janeiro</td><td class="val" data-num="960000"></td></tr>
</tbody>
<tfoot>
<tr><td>Total</td><td id="totalVgv" style="text-align:right"></td></tr>
</tfoot>
</table>
</div>

</div>

<div class="grid" style="margin-top:24px;">

<div class="card">
<h2>Mix de Produtos por Mês</h2>
<div class="select-row">
<select id="mesSel"></select>
</div>
<div id="pie"></div>
</div>

<div class="card">
<h2>Observações</h2>
<p>
• Outubro foi o pico absoluto de performance.<br>
• Dezembro: 1 venda UAPÉ — R$ 4.300.000,00.<br>
• Janeiro: 1 Migração Quaddra — R$ 960.000,00.<br>
• Estrutura considerada: R$ 19.000/mês (março a janeiro).<br>
• ROI considera mídia + estrutura.
</p>
</div>

</div>

<footer>
<div>Fonte: Squad Yuny — CRM & Mídia Digital</div>
<div>Atualizado até Janeiro/2026</div>
</footer>

<script>
const months = ["Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Janeiro"];

const vgvVals = [961968,1294520,1495000,22837000,1643312,14250000,15319600,33369600,3204500,4300000,960000];

const mixData = {
"Dezembro":{"UAPÉ":1},
"Janeiro":{"Migração Quaddra":1}
};

const midiaBase = 1522428.30;
const midiaJaneiro = 162746.60;
const estrutura = 19000 * months.length;

const invest = midiaBase + midiaJaneiro + estrutura;

const total = vgvVals.reduce((a,b)=>a+b,0);
const roi = (total - invest) / invest;

function brl(n){
return "R$ " + n.toLocaleString("pt-BR",{minimumFractionDigits:2});
}

document.getElementById("vgvTotal").innerText = brl(total);
document.getElementById("invest").innerText = brl(invest);
document.getElementById("roi").innerText = roi.toFixed(1).replace(".",",")+"x";

document.querySelectorAll(".val").forEach(td=>{
td.innerText = brl(parseFloat(td.dataset.num));
});

document.getElementById("totalVgv").innerText = brl(total);

Plotly.newPlot("line",[{
x:months,
y:vgvVals,
type:"scatter",
mode:"lines+markers",
line:{color:"#D4AF37",width:4}
}],{margin:{t:10}});

const sel = document.getElementById("mesSel");
months.forEach(m=>{
let o=document.createElement("option");
o.value=m;
o.textContent=m;
sel.appendChild(o);
});

function drawPie(m){
let data=mixData[m];
if(!data){
Plotly.newPlot("pie",[{
labels:["Sem vendas"],
values:[1],
type:"pie"
}]);
return;
}
Plotly.newPlot("pie",[{
labels:Object.keys(data),
values:Object.values(data),
type:"pie"
}]);
}

sel.value="Janeiro";
drawPie("Janeiro");
sel.addEventListener("change",e=>drawPie(e.target.value));
</script>

</body>
</html>
